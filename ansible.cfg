# ansible.cfg
# This is the main configuration file for Ansible.

# --- Defaults ---
[defaults]

# Silence the host pattern warning by telling ansible-pull that it's okay if it doesn't find a playbook named after the machine's hostname.
# We are providing the playbook name on the command line explicitly.
playbook_dir = .

# Silence the Python interpreter warning by explicitly telling Ansible which Python to use.
# The 'auto_silent' setting will find a suitable Python3 interpreter without issuing a warning.
interpreter_python = auto_silent

# Disable host key checking (for local connections)
host_key_checking = False

remote_tmp = /tmp/.ansible-${USER}/tmp
allow_world_readable_tmpfiles = true

# Explicitly set the inventory file to use.
# This removes the need for the '-i' flag on the command line and silences inventory warnings.
inventory = inventory_local

# Silence warnings about using the YAML extension for playbooks.
playbook_extension = .yml

# Suppress more warnings.
deprecation_warnings = False
command_warnings = False

# Disable obnoxious cowsay output
nocows = True

# Set callback to reduce noise
stdout_callback = yaml
bin_ansible_callbacks = False

# Set default verbosity level (0-4)
# 0 = only critical errors
# 1 = include warnings and task results  
# 2 = include task start/end and non-zero returns
# 3 = include task arguments and more details
# 4 = include connection debugging
verbosity = 0

# --- Pull Settings ---
[pull]
# By default, ansible-pull will try to run a playbook matching the hostname.
# Setting a specific playbook here acts as a default if none is provided
# on the command line. We will still override this on the command line.
# This helps reduce noise.
default_playbook_name = playbook-common-tools.yml
accept_hostkey = True
purge = True

# --- Inventory ---
[inventory]
# Disable any automatic inventory loading
enable_plugins = host_list, script, auto, yaml, ini, toml

# --- SSH Connection ---
[ssh_connection]
# Disable SSH control persist for local connections
control_path = %(directory)s/ansible-ssh-%%h-%%p-%%r
control_path_dir = ~/.ansible/cp

[galaxy]
collections_path = ./collections
collections = 
  community.general

# --- Color settings for better readability ---
[colors]
highlight = white
verbose = blue
warn = bright purple
error = red
debug = dark gray
deprecate = purple
skip = cyan
unreachable = red
ok = green
changed = yellow
diff_add = green
diff_remove = red
diff_lines = cyan
